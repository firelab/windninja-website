<!DOCTYPE HTML>
<!--
	Forty by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>WindNinja FAQ</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<link rel="icon"
			type="image/png"
			href="favicon.ico">
	</head>
	<body class="is-preload">
		<style>
			/*FAQS*/
			.faq_question {
			    margin: 0px;
			    padding: 0px 0px 5px 0px;
			    display: inline-block;
			    cursor: pointer;
			    font-weight: bold;
			}

			.faq_answer_container {
			    height: 0px;
			    overflow: hidden;
			    padding: 0px;
			}
		</style>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
				<header id="header" class="alt style2">
				<a href="/windninja/" class="logo"><strong>WindNinja</strong> <span>FireLab</span></a>
				<nav>
					<a href="about.html">About</a>
					<a href="help.html">Help</a>
					<a href="tutorials/">Tutorials</a>
					<a href="mobile/">Mobile</a>
					<a href="faq.html">FAQ</a>
					<a href="#menu">Menu</a>
					<!-- <a href="https://weather.firelab.org/windninja_api/index.html">API</a> -->
					<!-- <a href="publications/">Publications</a> -->
					<!-- <a href=""> -->
				</nav>
				</header>
				<!-- Menu -->
				<nav id="menu">
					<ul class="links">
						<!-- <li><a href="about.html">About</a> -->
						<!-- <li><a href="help.html">Help</a> -->
						<!-- <li><a href="tutorials/">Tutorials</a> -->
						<!-- <li><a href="mobile/">Mobile</a> -->
						<li><a href="https://weather.firelab.org/windninja_api/index.html">API</a>
						<li><a href="publications/">Publications</a></li>
						<li><a href="field/">Field Observations</a></li>
						<li><a href="howdoes/">How Does WindNinja Work?</a></li>
						<li><a href="https://github.com/firelab/windninja/wiki">Developer Documentation</a></li>
						<li><a href="building/">Building from Source</a></li>
						<li><a href="contributors/">Contributors</a></li>
						<li><a href="mobile/">WindNinja Mobile</a></li>
						<li><a href="usage/">Usage Map</a></li>
						<li><a href="who_uses/">Who Uses WindNinja?</a></li>
					</ul>
					<ul class="actions stacked">
						<li><a href="#one" class="button  fit">Download</a></li>
						<!-- <li><a href="mobile/" class="button  fit">WindNinja Mobile</a></li> -->
						<!-- <li><a href="#" class="button fit">Log In</a></li> -->
					</ul>
				</nav>

				<!-- Menu -->


				<!-- Main -->
					<div id="main" class="alt">
						<section id="banner" class="style5">
							<div class="inner">
								<span class="image">
									<img src="images/16banner.jpg" alt="" />
								</span>
								<header class="major">
									<h1>
										Frequently Asked Questions
									</h1>
								</header>
								<div class="content">
								</div>
							</div>
						</section>
						<!-- One -->
							<section id="one">
								<div class="inner">
									<div class="faq_container">
									   <div class="faq">
									      <div class="faq_question"><h2>1. How do I install WindNinja?</h2></div>
									           <div class="faq_answer_container">
									              <div class="faq_answer">
																	<b>Windows</b>: Download the installer from
																	<a href="http://www.firelab.org/windninja">firelab.org</a>
																	 and save it to your computer.  Then, double-click on the installer in
																	 this saved location.  Follow the installation instructions in the window that opens.
																	  Once installed, use the Start menu to start WindNinja.
									              <br>
									              <br>
									              <b>Linux</b>: Follow the instructions on
									              <a href="https://github.com/firelab/windninja/wiki/Building-WindNinja-on-Linux">
																	building from source</a>.
									              <br>
									              <br>
									              </div>
									            </div>
									          </div>
									        </div>

									<div class="faq_container">
									  <div class="faq">
									      <div class="faq_question"><h2>2. Where can documentation about running WindNinja be found?</h2></div>
									        <div class="faq_answer_container">
									          <div class="faq_answer">
															<h4><a href="tutorials/">
																Tutorials can be found online here.</a></h4>
																<br>
									            <p style="font-size:105%;">Much of the available documentation is included in the WindNinja installation.  To find this, first install WindNinja.  Next, go to Start->Programs->WindNinja-x.x.x.  Here you will find links to the included documentation, which includes tutorials, elevation file download instructions, wind vector viewing instructions, and example elevation files.</p>
									              <br>
									            </div>
									          </div>
									  </div>
									</div>
									<div class="faq_container">
									  <div class="faq">
									      <div class="faq_question">
													<h2>3. What is the difference between WindNinja and WindWizard?</h2>
												</div>
									        <div class="faq_answer_container">
									          <div class="faq_answer">
									            <p style="font-size:105%;">
																<a href="http://www.firelab.org/project/windwizard">WindWizard</a> is no longer available.
									              There is now a conservation of mass and momentum solver in
									              WindNinja which replaces the functionality of WindWizard.
									              <br>
									              <p style="font-size:105%;">The physics in the WindWizard solver were based on
									                proprietary software that required users to purchase a license. Because this
									                severely hampered usability, WindWizard is no longer available.
									                Instead, WindNinja has been upgraded to include the advanced physics previously included in
									                WindWizard, but without the licensing fees. As of version 3.0, WindNinja includes an optional
									                momentum solver that replaces the functionality of WindWizard. There are now two options for the
									                solver (the number-crunching part of WindNinja): 1) conservation of mass and 2) conservation
									                of mass and momentum. The conservation of mass option is the native, fast-running solver used
									                in the early versions of WindNinja. The conservation of mass and momentum option is a second solver
									                based on the OpenFOAM toolkit. OpenFOAM is free, open-source software for computational fluid dynamics
                                                                                        (CFD) from <a href="http://openfoam.org">the OpenFOAM Foundation</a>.</p><br>
									              <p style="font-size:105%;">The major differences, from a userâ€™s perspective, between the two solvers are:</p>
									              <br>
									              <p>&nbsp&nbsp&nbsp&nbsp1) The conservation of mass solver runs much faster than the conservation of mass and momentum solver (less than a minute for conservation of mass compared to 10s of minutes (depending on simulation specifics) for conservation of mass and momentum).</p><br>
									              <p>&nbsp&nbsp&nbsp&nbsp2) The conservation of mass solver's approximation of the momentum equation is simpler and, at times, less accurate than that of the conservation of mass and momentum solver. This is the main reason the conservation of mass solver runs so much faster than the conservation of mass and momentum.</p><br>
									              <p>&nbsp&nbsp&nbsp&nbsp3) The conservation of mass simulations are normally less accurate during stronger winds on the lee sides of ridges and mountains where re-circulation eddies can occur.</p><br>
									              <p>&nbsp&nbsp&nbsp&nbsp4) WindNinja has a feature that allows users to enter measured wind information at several locations to drive the flow. WindNinja will produce a wind field that matches the winds as these locations. This feature is not currently available for the conservation of mass and momentum solver.</p><br>
									            </div>
									          </div>
									  </div>
									</div>

									<div class="faq_container">
									  <div class="faq">
									      <div class="faq_question"><h2>4. Is WindNinja faster than WindWizard? How much?</h2></div>
									        <div class="faq_answer_container">
									          <div class="faq_answer">
															<a href="http://www.firelab.org/project/windwizard">WindWizard</a>
															 is no longer available.
									            There is now a conservation of mass and momentum solver in
									            WindNinja which replaces the functionality of WindWizard. 
                                                                                    The conservation of mass solver runs much faster than the
                                                                                    conservation of mass and momentum solver
                                                                                    (less than a minute for conservation of mass compared to 10s of minutes 
                                                                                    for conservation of mass and momentum).</p>
									            <br>
									            </div>
									          </div>
									  </div>
									</div>
									<div class="faq_container">
									  <div class="faq">
									      <div class="faq_question"><h2>5. How do I view WindNinja outputs?</h2></div>
									        <div class="faq_answer_container">
									          <div class="faq_answer">
									            <p style="font-size:105%;">There are several ways to view WindNinja outputs.  Probably the most convenient way is to use Google Earth and WindNinja's KMZ output file (.kmz).  As of version 3.0, WindNinja can generate a GeoPDF output file (.pdf). GeoPDFs can be viewed in any PDF reader, but can also be viewed in GIS programs including the Avenza PDF Maps mobile application. Another way, if you have a FARSITE landscape file (.lcp), is to use FlamMap with WindNinja's fire behavior output files (.asc).  Last, you could use a GIS such as ArcView or ArcMap with WindNinja's shape file output files (.shp, .shx, .dbf).  Instructions for plotting wind vectors using ArcView and ArcMap can be found within the help menu of WindNinja.</p>
									            <br>
									            </div>
									          </div>
									  </div>
									</div>
									<div class="faq_container">
									  <div class="faq">
									      <div class="faq_question"><h2>6. What elevation file formats does WindNinja accept?</h2></div>
									        <div class="faq_answer_container">
									          <div class="faq_answer">
									            <p style="font-size:105%;">Starting with WindNinja 2.0.0, several common file formats can be used.  They are:<br>
									&bull; Arc/Info ASCII Raster (*.asc)<br>
									&bull; FARSITE landscape file (*.lcp)<br>
									&bull; GeoTiff (*.tif)<br>
									&bull; ERDAS IMAGINE (*.img)<br><br>

									As of version 2.3.x, WindNinja can download DEM files for you in the proper spatial projection.
									</p>
									            <br>
									            </div>
									          </div>
									  </div>
									</div>
									<div class="faq_container">
									  <div class="faq">
									      <div class="faq_question"><h2>7. How do I obtain an elevation file?</h2></div>
									        <div class="faq_answer_container">
									          <div class="faq_answer">
									            <p style="font-size:105%;">There are many different ways to obtain elevation files for WindNinja. WindNinja can now download a file for you with the best-fit UTM projection.
									<br>
									If you already have an elevation file, it can be used in WindNinja so long as it meets WindNinja's requirements.  See the FAQ question about elevation file requirements.</p>
									            <br>
									            </div>
									          </div>
									  </div>

									  <div class="faq_container">
									    <div class="faq">
									        <div class="faq_question"><h2>8. What happens if I don't have GIS projection information with my elevation file?</h2></div>
									          <div class="faq_answer_container">
									            <div class="faq_answer">
									              <h3> Pre-2.3.0:</h3>
                                                                                      <p>
									Without projection information, you can still use WindNinja but some options will not be available.  Specifically, you won't be able to make Google Earth output files (.kmz).  Also, if you want to do a diurnal simulation, you will have to manually enter a latitude and longitude for your area (with projection information WindNinja can automatically find the latitude and longitude for you).
									<h3> 2.3.0 and after:</h3>

									WindNinja <b>requires</b> projection information with your DEM.
									</p>
									              <br>
									              </div>
									            </div>
									    </div>
									  </div>
									<div class="faq_container">
									  <div class="faq">
									      <div class="faq_question"><h2>9. What are the requirements for elevation files?</h2></div>
									        <div class="faq_answer_container">
									          <div class="faq_answer">
									            <p style="font-size:105%;">
																First, the elevation file must be one of the allowable file
																formats (Arc/Info ASCII Raster (.asc), FARSITE landscape file (.tif/.lcp), GeoTiff (.tif),
																ERDAS IMAGINE (.img)).  Second, the elevation file
																must not have any areas without data (NO_DATA values).
																See WindNinja Tutorial 1 in the help menu for more information
																about common reasons for having NO_DATA values and ways to fix these problems.
																Third, elevation files must not be too large in extent.
																We generally recommend that elevation files should be less than 50x50 km
																(about 30x30 miles).  Fourth, elevation files must be in units of meters.
																 This means both the horizontal and vertical units.
																 Last, if WindNinja 2.3.0 or newer is used, it must be georeferenced
																 in a "north up" projected coordinate system. We recommend using the best-fit UTM projection. A "north up" projection is required
										    						because we use the standard meteorological convention for wind direction where a north wind is a wind from 0 degrees (e.g., north is "up").</p>
									            <br>
									            </div>
									          </div>
									  </div>
									</div>
									</div>
									<div class="faq_container">
									  <div class="faq">
									      <div class="faq_question"><h2>10. If I use a coarse DEM can I simulate a larger area?</h2></div>
									        <div class="faq_answer_container">
									          <div class="faq_answer">
									            <p style="font-size:105%;">The DEM resolution is really not so much the issue; the issue is the computational resolution of the wind simulation.   WindNinja resamples the DEM to build the internal computational resolution, which is the resolution of the actual wind simulation.  This computational resolution is the limiting factor in simulations when it comes to computational time and computational memory (running out of computer RAM).  The choice of computational resolution should be such that the terrain is adequately resolved for the wind simulation, meaning that the scale of terrain that you want to resolve is resolved.  For example, if you want to resolve all terrain features of a certain size, say hills of horizontal size of around 100 meters, then the computational resolution should probably be at least 10 to 30 meters so that there are several cells on the 100 meter hills.  And so the computational resolution choice is probably really a function of the terrain.  "Smoother" terrains with large average distances between hills/ridges could use larger cell sizes than "rougher" terrain.
									<br><br>
									Through experience, we've found that 100 to 300 meter computational (mesh) resolutions are usually adequate for most terrains.  This can be obtained by choosing "fine" for mesh resolution and keeping the DEM extent to less than 40-50 km on a side.  The user can choose "custom" for resolution and manually enter a computational cell size in meters.  You could play around with a larger DEM (say 100 km by 100 km) and manually set the computational (mesh) resolution.  The limiting factor will be computer RAM, at some point you'll run out.</p>
									            <br>
									            </div>
									          </div>
									  </div>
									</div>
									  <div class="faq_container">
									    <div class="faq">
									        <div class="faq_question"><h2>11. Have you compared results with different grid resolutions to know if it markedly changes wind behavior?</h2></div>
									          <div class="faq_answer_container">
									            <div class="faq_answer">
									              <p style="font-size:105%;">Indeed we have. For an example and discussion, you could look at the images on pages 30-31 of <a href="http://www.firelab.org/document/forthofer-thesis">Jason Forthofer's master's thesis</a>.  Note that this terrain is fairly gentle though.  The appropriate grid resolution is dependent on the specific terrain and what winds you want to resolve. Probably one of the best things to do is to experiment with different computational (mesh) resolutions for your terrain to see how much difference there is (sensitivity).</p>
									              <br>
									              </div>
									            </div>
									    </div>
									  </div>
									    <div class="faq_container">
									      <div class="faq">
									          <div class="faq_question"><h2>12. Is WindNinja accurate along the borders of the modeling domain?</h2></div>
									            <div class="faq_answer_container">
									              <div class="faq_answer">
									                <p style="font-size:105%;">As with most numerical models of this type, winds along the border of the modeling domain may have some error.  This is because, in reality, terrain features outside the modeling domain may affect the wind flow inside the domain.  But since these terrain features are not modeled, the simulation results do not reflect them.  There is a simple solution to deal with this problem.  Use an elevation file that is slightly larger than the area you want to model so there is a buffer around your desired area.  We recommend a 10-20% buffer size.</p>
									                <br>
									                </div>
									              </div>
									      </div>
									    </div>
									      <div class="faq_container">
									        <div class="faq">
									            <div class="faq_question"><h2>13. Are there any issues with using the model at fine scales?</h2></div>
									              <div class="faq_answer_container">
									                <div class="faq_answer">
                                                                                            <p style="font-size:105%;"><i>Say I'd like to use it to model the wind over an area of about 100 hectares which has a fairly complex topography - is WindNinja ok to use with (say) 10 m grid DEMs?</i><br><br>There shouldn't be any issues, although WindNinja hasn't been tested much at this scale.</p>
									                  <br>
									                  </div>
									                </div>
									        </div>
									      </div>
									      <div class="faq_container">
									        <div class="faq">
									            <div class="faq_question"><h2>14. Any insights on how well WindNinja captures eddies in the flow?</h2></div>
									              <div class="faq_answer_container">
									                <div class="faq_answer">
									                  <p style="font-size:105%;">Because of how the conservation of mass solver simulates momentum, it cannot capture eddies (reversed flow) at all.  Instead you will just see very low wind speeds in these areas, but not reversed direction. The conservation of mass and momentum solver (available since version 3.0) will capture eddies in the flow field. We are in the process of evaluating the conservation of mass and momentum solver, including its ability to resolve lee-side eddies, against field observations in complex terrain.</p>
									                  <br>
									                  </div>
									                </div>
									        </div>
									      </div>
									      <div class="faq_container">
									        <div class="faq">
									            <div class="faq_question"><h2>15. How should I cite the model in a publication?</h2></div>
									              <div class="faq_answer_container">
									                <div class="faq_answer">
                                                                                            <p style="font-size:105%;">The best peer-reviewed reference is:<br><br>

                                                                                            Forthofer, J.M., Butler, B.W., Wagenbrenner, N.S., 2014. <a href="https://www.researchgate.net/publication/264824386_A_comparison_of_three_approaches_for_simulating_fine-scale_surface_winds_in_support_of_wildland_fire_management_Part_I_Model_formulation_and_comparison_against_measurements">A comparison of three approaches for simulating fine-scale surface winds in support of wildland fire management. Part I. Model formulation and comparison against measurements</a>. Int. J. Wildland Fire. 23:969-981.
									<br>
                                                                        <br>
									<i>Note: In this publication WindNinja is referred to as the "mass-conserving" model.</i></p>
                                                                        </header>
                                                                        <ul class="actions">
                                                                                <li><a href="publications/" class="button">View Additional Publications</a></li>
                                                                        </ul>
									                  <br>
									                  </div>
									                </div>
									        </div>
									      </div>
									      <div class="faq_container">
									        <div class="faq">
									            <div class="faq_question"><h2>16. Can I use other weather model output to initialize WindNinja? </h2></div>
									              <div class="faq_answer_container">
									                <div class="faq_answer">
                                                                                            <p style="font-size:105%;"><i>WindNinja has built-in support for a number of weather models provided by NCEP, but what if I have output from a different weather model or archived model output from one of the NCEP models?</i><br><br> In addition to the NCEP models that WindNinja can download for you, WindNinja can also handle output from the WRF-ARW model in NetCDF format (these files are often referred to as "wrfout" files). See <a href="https://weather.firelab.org/windninja/tutorials/WindNinja_tutorial4.pdf">Tutorial 4</a> for instructions on how to use wrfout files for initialization. Right now the NCEP model output we download from NOMADS and UCAR and WRF-ARW NetCDF output are the only model output formats that can be used to initialize WindNinja. We'd like to support additional models, but unfortunately, there are many formats that the weather model output is stored in. These formats differ not just in the file format (e.g., NetCDF, GRIB, etc.), but also in they way the time, geographic projection information, and output variables are stored and hanlded. This makes it very difficult to support all possible models, although we do hope to someday implement a method to allow initialization with arbitrary weather model formats.<br> 
                                                                                <br>
                                                                                For now, if you want to use an unsupported weather model format for initialization, you could consider converting your model output to the WRF-ARW NetCDF format. Other users have done this successfully. You can see an example converter script <a href="files/convert_CHM-GEM.py">here</a> (provided by <a href="http://chrismarsh.ca/">Chris Marsh</a>) and an example wrfout file <a href="https://ninjastorm.firelab.org/data/wrfout_d04_2010-09-05_120000.nc">here</a>. To mimic a WRF-ARW NetCDF output file, you'll need the following:<br>
                                                                                            <ol>
                                                                                                <li>There needs to be a global attribute "TITLE" that has "WRF" in it. For example, TITLE = " OUTPUT FROM WRF V3.2 MODEL" is what is in the example wrfout file.Â WindNinjaÂ only searches for the text "WRF" in the TITLE attribute though.</li><br>
                                                                                                <li>There needs to be aÂ timeÂ variable. In the example wrfout file it is the first variable defined as: char Times(Time, DateStrLen). There also needs to be a dimension "Time" and "DateStrLen". In the example wrfout file, it looks like this:<br><br>
                                                                                            <ul style="list-style-type:none;">
                                                                                                  <li>dimensions:</li>
                                                                                                  <li>TimeÂ = UNLIMITED ; // (24 currently)</li>
                                                                                                  <li>DateStrLen = 19 ;</li>
                                                                                            </ul>  
                                                                                            The datetime string for the Times variable needs to be in the exactÂ formatÂ as the Times variable in the example wrfout file.</li><br>
                                                                                                <li>There needs to be a global attribute "MAP_PROJ" which defines the projection used for the WRF simulation. In the example wrfout file MAP_PROJ = 1 (which corresponds to LCC; 2 is Polar Stereographic, and 3 is Mercator). It's critical that you know what projection your simulation is in, otherwise theÂ WindNinjaÂ initialization will not be correct (the predicted winds will not be located correctly in space).</li><br>
                                                                                           <li>The required variable names are U10 (u-component of the wind at 10 m), V10 (v-component of the wind at 10 m), T2 (temperature at 2 m), and QCLOUD (cloud water mixing ratio).</li>
                                                                                            </ol>
                                                                                            </p>
									                  <br>
											  <p style="font-size:105%;">Alternatively, you could use the gridded initialization option. Although this option is not included in our official documentation (this functionality was added for internal use), we do have some instructions on how to set these kinds of runs up and users have successfully used this option. See <a href="https://github.com/firelab/windninja/issues/510">GitHub Issue #510</a> for details.<br> 
									                  </div>
									                </div>
									        </div>
									      </div>
									      <div class="faq_container">
									        <div class="faq">
									            <div class="faq_question"><h2>17. Can I initialize WindNinja with a historical forecast? </h2></div>
									              <div class="faq_answer_container">
									                <div class="faq_answer">
												<p style="font-size:105%;"><i>WindNinja only has built-in support for downloading current forecasts. What if I want to initialize with a forecast from the past (i.e., a past cast)?</i><br><br> WindNinja currently supports two formats for past casts: 1. WRF-ARW NetCDF files and 2. archived HRRR. See FAQ 17 for instructions on initializing WindNinja with WRF-ARW NetCDF output. To initialize with archived HRRR, you will need to obtain the relevant HRRR forecast file from <a href="https://console.cloud.google.com/marketplace/product/noaa-public/hrrr?pli=1">Google Cloud Platform</a>. There are a few different file formats on this server. You'll want to download the files that have "wrfprs" in the name. Right now these archived HRRR forecasts can only be used in the WindNinja command line interface (CLI). You can find instructions for the CLI <a href="https://weather.firelab.org/windninja/tutorials/CLI_instructions.pdf">here</a>. We will be adding support for download and initialization via the WindNinja GUI soon.<br> 
									                  </div>
									                </div>
									        </div>
									      </div>
                                                                        <hr>
                                                                        <h2>Still have questions?</h2>
                                                                        </header>
                                                                        <p>Let us know! Send an email to the WindNinja support team.</p>
                                                                        <ul class="actions">
                                                                                <li><a href="mailto:wind.ninja.support@gmail.com" class="button">Contact WindNinja Support</a></li>
                                                                        </ul>
									</div>

					</div>


				<!-- Footer -->
					<footer id="footer">
						<div class="inner">
							<p style="text-align:center;"><img src="https://avatars1.githubusercontent.com/u/3028309?v=3&s=200" alt "firelab"></p>
							<p style="text-align:center;"><a href="http://firelab.org/">firelab.org</a></p>
							<ul class="icons">
							</ul>
							<ul class="copyright">
								<li>&copy; RMRS Missoula Fire Sciences Laboratory</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li>
							</ul>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/jquery.scrolly.min.js"></script>
		<script src="assets/js/jquery.scrollex.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>
		<script>
		 $(document).ready(function() {

				$('.faq_question').click(function() {

						if ($(this).parent().is('.open')){
								$(this).closest('.faq').find('.faq_answer_container').animate({'height':'0'},500);
								$(this).closest('.faq').removeClass('open');

								}else{
										var newHeight =$(this).closest('.faq').find('.faq_answer').height() +'px';
										$(this).closest('.faq').find('.faq_answer_container').animate({'height':newHeight},500);
										$(this).closest('.faq').addClass('open');
								}
							});
						});
		</script>

	</body>
</html>
